# 헥사고날 아키첵처

- 비즈니스 코드를 기술 코드로부터 분리하는 것
- 비즈니스 목표를 달성하는 데 사용되는 기술에 대한 우려 없이 소프트웨어를 발전시킬 수 있어야 함
- 비즈니스 코드에 피해를 주지 않고도 기술 코드를 변경할 수 있어야 함

## 도메인 헥사곤

실 세계 문제를 이해하고 모델랑하는 활동을 의미한다. 도메인 헥사곤을 사용해서 도메인에 필요한 지식을 모델링한다.  

프로젝트에 참여하는 개발자들이 도메인에 대한 지식이 부족하다면 도메인 전문가나 해당 도메인 문제를 이미 경험해본 개발자에게 조언을 구해야 한다.  

문제 영역과 엔티티, 갑객체와 같은 다른 도멩니 객체로의 변환 방법을 파악하지 못하면 취약하거나 잘못된 가정을 기반으로 소프트웨어를 구축하게 될 수 있다. &rarr; 이는 코드베이스가 커짐에 따라 기술 부채가 누적되고 유지보수가 어려워지는 이유 중 하나이다.  

도메인 헥사곤은 주로 엔티티(Entity)와 값 객체(Value Object)으로 나태낸다.

### 엔티티

**정체성:** 엔티티는 ID로 식별되며, 속성이 달라도 동일한 ID라면 같은 객체.

- 객체를 구별하는 기준. (ex: 회원 ID, 주문 번호)
- 엔티티의 핵심은 **무엇이냐 보다는 누구냐에 집중**한다.
- 외형이나 속성이 변경되어도 같은 ID를 가진 객체는 같은 엔티티로 취급한다.

```kt
class Member(
    val id: Long,
    var name: String,
    var email: String
)
```

- Member(id=1, name="철수") → 이름을 “영희”로 바꿔도 ID가 같다면 **동일한 사람(엔티티)**이다.
- 즉, 엔티티는 속성보다 ID가 중요함

**연속성:** 시간이 지나고 상태가 바뀌어도 동일한 ID라면 같은 객체로 간주.

- 객체의 수명주기 및 변경 가능한 특성과 관련이 있다.
- 시간이 지나서 엔티티의 속성은 변할 수 있다. &rarr; 이 때문에 엔티티는 수명주기를 갖는다고 말한다.

### 값 객체

"정체성이 필요 없는, 값 자체로 의미를 가지는 객체” → 누구냐(ID)가 아니라, 무엇이냐(값 자체)가 중요한 객체

고유하게 식별할 필요가 없고 객체의 정체성보다 속성에 관심을 갖는 경우에도 코드의 표현력을 보완하는데 도움을 준다.  

값 객체를 사용해 엔티티 객체를 구성할 수 있다. &rarr; 도메인 전체에서 예상치 못한 불일치를 방지하기 위해 값 객체는 **불변**으로 만들어야한다.